<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --gold1:#b8891a; --gold2:#f6e08d; --gold3:#d4af37; --gold4:#8a6512;
  --ink:#1d2430;
}

*{box-sizing:border-box;}

body{
  margin:0;
  font-family:'Amiri',serif;
  color:var(--ink);
  overflow:hidden;
  background:
    radial-gradient(1100px 650px at 15% 18%, rgba(42,167,223,.10), transparent 60%),
    radial-gradient(900px 560px at 85% 45%, rgba(139,197,63,.10), transparent 58%),
    radial-gradient(900px 700px at 70% 95%, rgba(230,122,179,.08), transparent 62%),
    #f7f9fc;
}

/* Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ */
body::before{
  content:"";
  position:fixed;
  inset:0;
  border:6px solid transparent;
  border-image:linear-gradient(135deg,var(--gold1),var(--gold2),var(--gold3),var(--gold4)) 1;
  pointer-events:none;
}

.wrap{
  padding:22px 26px 18px 26px;
  height:100vh;
  display:grid;
  grid-template-rows:auto auto auto 1fr;
  gap:10px;
}

/* Top bar */
.topbar{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:12px;
}

.right{
  display:flex;
  align-items:center;
  gap:10px;
}

.logo{
  height:54px;
  background:#fff;
  padding:6px;
  border-radius:12px;
  box-shadow:0 8px 18px rgba(0,0,0,.08);
}

.title{
  font-size:24px;
  font-weight:700;
}

.clock{
  font-size:48px;
  font-weight:700;
  opacity:.92;
  letter-spacing:.5px;
  white-space:nowrap;
}

/* Date bar */
.datebar{
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  flex-wrap:wrap;
  background:rgba(255,255,255,.92);
  padding:10px 14px;
  border-radius:14px;
  border:1px solid rgba(212,175,55,.16);
  box-shadow:0 10px 22px rgba(0,0,0,.05);
  font-size:20px;
  font-weight:700;
}

.ramadan-badge{
  padding:6px 12px;
  border-radius:999px;
  font-size:16px;
  font-weight:700;
  color:#3a2c00;
  background:linear-gradient(135deg,var(--gold1),var(--gold2),var(--gold3),var(--gold4));
  border:1px solid rgba(255,255,255,.45);
  box-shadow:0 6px 14px rgba(0,0,0,.10);
  white-space:nowrap;
}

/* Banner */
.banner{
  position:relative;
  padding:14px 18px;
  min-height:56px;
  display:flex;
  align-items:center;
  justify-content:center;
  border-radius:18px;
  background:linear-gradient(135deg,var(--gold1),var(--gold2),var(--gold3),var(--gold4));
  color:#3a2c00;
  font-size:24px;
  font-weight:700;
  text-align:center;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.35);
  box-shadow:0 14px 28px rgba(0,0,0,.12);
}

.banner::after{
  content:"";
  position:absolute;
  top:0; left:-65%;
  width:40%; height:100%;
  background:linear-gradient(120deg,transparent,rgba(255,255,255,.7),transparent);
  transform:skewX(-25deg);
  animation:shine 5s infinite;
}
@keyframes shine{0%{left:-65%}45%{left:135%}100%{left:135%}}

/* Panel */
.panel{
  height:100%;
  background:rgba(255,255,255,.92);
  border-radius:18px;
  padding:12px;
  border:1px solid rgba(212,175,55,.14);
  box-shadow:0 14px 28px rgba(0,0,0,.07);
  display:grid;
  grid-template-rows:auto auto auto;
  gap:10px;
}

/* Times grid */
.grid{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
}

.card{
  background:#fff;
  border-radius:14px;
  padding:12px 10px;
  text-align:center;
  border:1px solid rgba(0,0,0,.04);
  box-shadow:0 10px 18px rgba(0,0,0,.06);
}

.card .pname{display:block; font-size:19px; font-weight:700; margin-bottom:4px;}
.card .ptime{display:block; font-size:24px; font-weight:700; letter-spacing:.3px;}

/* Counters */
.count-section{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:10px;
}

.count-box{
  background:#fff;
  border-radius:16px;
  padding:12px 12px;
  border:1px solid rgba(0,0,0,.04);
  box-shadow:0 10px 18px rgba(0,0,0,.06);
  text-align:center;
}

.count-title{font-size:17px; font-weight:700;}
.count-sub{margin-top:4px; font-size:15px; font-weight:700; opacity:.88;}
.count-time{margin-top:8px; font-size:44px; font-weight:700; letter-spacing:1px; line-height:1.1;}

.footer{
  text-align:center;
  font-size:13px;
  opacity:.75;
}

/* small screens */
@media (max-width: 980px){
  .grid{grid-template-columns:repeat(2,1fr);}
  .count-section{grid-template-columns:1fr;}
  .count-time{font-size:40px;}
}
</style>
</head>

<body>
<div class="wrap">

  <header class="topbar">
    <div class="right">
      <img class="logo" src="logo.png" alt="Kalimat">
      <div class="title">Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© - Ø¥Ù…Ø§Ø±Ø© Ø§Ù„Ø´Ø§Ø±Ù‚Ø©</div>
    </div>
    <div id="clock" class="clock">--:--</div>
  </header>

  <div class="datebar">
    <span id="dateText">--</span>
    <span id="ramadanBadge" class="ramadan-badge" style="display:none;">Ø§Ù„ÙŠÙˆÙ… -- Ù…Ù† Ø±Ù…Ø¶Ø§Ù†</span>
  </div>

  <div class="banner">
    Ù…Ø±ÙƒØ² ÙƒÙ„Ù…Ø§Øª Ù„Ù„ØªØ£Ù‡ÙŠÙ„ ÙˆØ¹Ù„Ø§Ø¬ Ø§Ù„Ù†Ø·Ù‚ ÙŠØªÙ…Ù†Ù‰ Ù„ÙƒÙ… ØµÙŠØ§Ù…Ø§Ù‹ Ù…Ù‚Ø¨ÙˆÙ„Ø§Ù‹ ÙˆØ¥ÙØ·Ø§Ø±Ø§Ù‹ Ù‡Ù†ÙŠØ¦Ø§Ù‹ ğŸŒ™
  </div>

  <div class="panel">
    <div class="grid" id="times"></div>

    <div class="count-section">
      <div class="count-box">
        <div class="count-title">Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</div>
        <div id="nextName" class="count-sub">--</div>
        <div id="nextCount" class="count-time">--:--:--</div>
      </div>

      <div class="count-box">
        <div class="count-title">ÙˆÙ‚Øª Ø§Ù„Ø¥ÙØ·Ø§Ø± (Ø§Ù„Ù…ØºØ±Ø¨)</div>
        <div id="iftarAt" class="count-sub">--</div>
        <div id="iftarCount" class="count-time">--:--:--</div>
      </div>
    </div>

    <div id="status" class="footer">Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª ØªØ¹Ù…Ù„ Ø­Ø³Ø¨ Ø¬Ø¯ÙˆÙ„ Ø­ÙƒÙˆÙ…Ø© Ø§Ù„Ø´Ø§Ø±Ù‚Ø© âœ…</div>
  </div>

</div>

<script>
/* Ø¬Ø¯ÙˆÙ„ Ø­ÙƒÙˆÙ…Ø© Ø§Ù„Ø´Ø§Ø±Ù‚Ø© (Ø«Ø§Ø¨Øª) â€” ÙØ¨Ø±Ø§ÙŠØ± + Ù…Ø§Ø±Ø³ 2026 */
const SHJ = {
  "2026-02-01": { hijri:"13 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:42", sunrise:"06:58", dhuhr:"12:34", asr:"15:41", maghrib:"18:05", isha:"19:21" },
  "2026-02-02": { hijri:"14 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:42", sunrise:"06:58", dhuhr:"12:34", asr:"15:41", maghrib:"18:06", isha:"19:22" },
  "2026-02-03": { hijri:"15 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:41", sunrise:"06:57", dhuhr:"12:34", asr:"15:42", maghrib:"18:07", isha:"19:23" },
  "2026-02-04": { hijri:"16 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:41", sunrise:"06:57", dhuhr:"12:34", asr:"15:42", maghrib:"18:07", isha:"19:23" },
  "2026-02-05": { hijri:"17 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:40", sunrise:"06:56", dhuhr:"12:35", asr:"15:43", maghrib:"18:08", isha:"19:24" },
  "2026-02-06": { hijri:"18 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:40", sunrise:"06:55", dhuhr:"12:35", asr:"15:43", maghrib:"18:09", isha:"19:24" },
  "2026-02-07": { hijri:"19 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:40", sunrise:"06:55", dhuhr:"12:35", asr:"15:44", maghrib:"18:10", isha:"19:25" },
  "2026-02-08": { hijri:"20 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:39", sunrise:"06:54", dhuhr:"12:35", asr:"15:44", maghrib:"18:10", isha:"19:26" },
  "2026-02-09": { hijri:"21 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:39", sunrise:"06:54", dhuhr:"12:35", asr:"15:45", maghrib:"18:11", isha:"19:26" },
  "2026-02-10": { hijri:"22 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:38", sunrise:"06:53", dhuhr:"12:35", asr:"15:45", maghrib:"18:12", isha:"19:27" },
  "2026-02-11": { hijri:"23 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:37", sunrise:"06:52", dhuhr:"12:35", asr:"15:46", maghrib:"18:12", isha:"19:27" },
  "2026-02-12": { hijri:"24 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:37", sunrise:"06:52", dhuhr:"12:35", asr:"15:46", maghrib:"18:13", isha:"19:28" },
  "2026-02-13": { hijri:"25 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:36", sunrise:"06:51", dhuhr:"12:35", asr:"15:47", maghrib:"18:14", isha:"19:28" },
  "2026-02-14": { hijri:"26 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:36", sunrise:"06:50", dhuhr:"12:35", asr:"15:47", maghrib:"18:14", isha:"19:29" },
  "2026-02-15": { hijri:"27 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:35", sunrise:"06:50", dhuhr:"12:35", asr:"15:47", maghrib:"18:15", isha:"19:29" },
  "2026-02-16": { hijri:"28 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:34", sunrise:"06:49", dhuhr:"12:35", asr:"15:48", maghrib:"18:15", isha:"19:30" },
  "2026-02-17": { hijri:"29 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:34", sunrise:"06:48", dhuhr:"12:35", asr:"15:48", maghrib:"18:16", isha:"19:31" },
  "2026-02-18": { hijri:"30 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"05:33", sunrise:"06:47", dhuhr:"12:34", asr:"15:48", maghrib:"18:17", isha:"19:31" },
  "2026-02-19": { hijri:"1 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:32", sunrise:"06:47", dhuhr:"12:34", asr:"15:49", maghrib:"18:17", isha:"19:32" },
  "2026-02-20": { hijri:"2 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:32", sunrise:"06:46", dhuhr:"12:34", asr:"15:49", maghrib:"18:18", isha:"19:32" },
  "2026-02-21": { hijri:"3 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:31", sunrise:"06:45", dhuhr:"12:34", asr:"15:49", maghrib:"18:18", isha:"19:33" },
  "2026-02-22": { hijri:"4 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:30", sunrise:"06:44", dhuhr:"12:34", asr:"15:50", maghrib:"18:19", isha:"19:33" },
  "2026-02-23": { hijri:"5 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:29", sunrise:"06:43", dhuhr:"12:34", asr:"15:50", maghrib:"18:20", isha:"19:34" },
  "2026-02-24": { hijri:"6 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:29", sunrise:"06:43", dhuhr:"12:34", asr:"15:50", maghrib:"18:20", isha:"19:34" },
  "2026-02-25": { hijri:"7 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:28", sunrise:"06:42", dhuhr:"12:34", asr:"15:51", maghrib:"18:21", isha:"19:35" },
  "2026-02-26": { hijri:"8 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:27", sunrise:"06:41", dhuhr:"12:33", asr:"15:51", maghrib:"18:21", isha:"19:35" },
  "2026-02-27": { hijri:"9 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:26", sunrise:"06:40", dhuhr:"12:33", asr:"15:51", maghrib:"18:22", isha:"19:36" },
  "2026-02-28": { hijri:"10 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:25", sunrise:"06:39", dhuhr:"12:33", asr:"15:51", maghrib:"18:22", isha:"19:36" },

  "2026-03-01": { hijri:"11 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:24", sunrise:"06:38", dhuhr:"12:33", asr:"15:51", maghrib:"18:23", isha:"19:37" },
  "2026-03-02": { hijri:"12 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:24", sunrise:"06:37", dhuhr:"12:33", asr:"15:52", maghrib:"18:23", isha:"19:37" },
  "2026-03-03": { hijri:"13 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:23", sunrise:"06:36", dhuhr:"12:33", asr:"15:52", maghrib:"18:24", isha:"19:38" },
  "2026-03-04": { hijri:"14 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:22", sunrise:"06:35", dhuhr:"12:32", asr:"15:52", maghrib:"18:24", isha:"19:38" },
  "2026-03-05": { hijri:"15 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:21", sunrise:"06:34", dhuhr:"12:32", asr:"15:52", maghrib:"18:25", isha:"19:39" },
  "2026-03-06": { hijri:"16 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:20", sunrise:"06:33", dhuhr:"12:32", asr:"15:52", maghrib:"18:25", isha:"19:39" },
  "2026-03-07": { hijri:"17 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:19", sunrise:"06:32", dhuhr:"12:32", asr:"15:52", maghrib:"18:26", isha:"19:40" },
  "2026-03-08": { hijri:"18 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:18", sunrise:"06:31", dhuhr:"12:31", asr:"15:52", maghrib:"18:26", isha:"19:40" },
  "2026-03-09": { hijri:"19 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:17", sunrise:"06:30", dhuhr:"12:31", asr:"15:52", maghrib:"18:27", isha:"19:41" },
  "2026-03-10": { hijri:"20 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:16", sunrise:"06:29", dhuhr:"12:31", asr:"15:53", maghrib:"18:27", isha:"19:41" },
  "2026-03-11": { hijri:"21 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:15", sunrise:"06:28", dhuhr:"12:31", asr:"15:53", maghrib:"18:28", isha:"19:42" },
  "2026-03-12": { hijri:"22 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:14", sunrise:"06:27", dhuhr:"12:30", asr:"15:53", maghrib:"18:28", isha:"19:42" },
  "2026-03-13": { hijri:"23 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:13", sunrise:"06:26", dhuhr:"12:30", asr:"15:53", maghrib:"18:29", isha:"19:43" },
  "2026-03-14": { hijri:"24 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:12", sunrise:"06:25", dhuhr:"12:30", asr:"15:53", maghrib:"18:29", isha:"19:43" },
  "2026-03-15": { hijri:"25 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:11", sunrise:"06:24", dhuhr:"12:30", asr:"15:53", maghrib:"18:30", isha:"19:44" },
  "2026-03-16": { hijri:"26 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:10", sunrise:"06:23", dhuhr:"12:29", asr:"15:53", maghrib:"18:30", isha:"19:44" },
  "2026-03-17": { hijri:"27 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:09", sunrise:"06:22", dhuhr:"12:29", asr:"15:53", maghrib:"18:31", isha:"19:44" },
  "2026-03-18": { hijri:"28 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:08", sunrise:"06:21", dhuhr:"12:29", asr:"15:53", maghrib:"18:31", isha:"19:45" },
  "2026-03-19": { hijri:"29 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"05:07", sunrise:"06:20", dhuhr:"12:28", asr:"15:53", maghrib:"18:32", isha:"19:45" },

  "2026-03-20": { hijri:"1 Ø´ÙˆØ§Ù„ 1447", fajr:"05:05", sunrise:"06:19", dhuhr:"12:28", asr:"15:53", maghrib:"18:32", isha:"19:46" },
  "2026-03-21": { hijri:"2 Ø´ÙˆØ§Ù„ 1447", fajr:"05:04", sunrise:"06:18", dhuhr:"12:28", asr:"15:53", maghrib:"18:33", isha:"19:46" },
  "2026-03-22": { hijri:"3 Ø´ÙˆØ§Ù„ 1447", fajr:"05:03", sunrise:"06:17", dhuhr:"12:27", asr:"15:52", maghrib:"18:33", isha:"19:47" },
  "2026-03-23": { hijri:"4 Ø´ÙˆØ§Ù„ 1447", fajr:"05:02", sunrise:"06:16", dhuhr:"12:27", asr:"15:52", maghrib:"18:33", isha:"19:48" },
  "2026-03-24": { hijri:"5 Ø´ÙˆØ§Ù„ 1447", fajr:"05:01", sunrise:"06:15", dhuhr:"12:27", asr:"15:52", maghrib:"18:34", isha:"19:48" },
  "2026-03-25": { hijri:"6 Ø´ÙˆØ§Ù„ 1447", fajr:"05:00", sunrise:"06:14", dhuhr:"12:27", asr:"15:52", maghrib:"18:34", isha:"19:49" },
  "2026-03-26": { hijri:"7 Ø´ÙˆØ§Ù„ 1447", fajr:"04:59", sunrise:"06:13", dhuhr:"12:26", asr:"15:52", maghrib:"18:35", isha:"19:49" },
  "2026-03-27": { hijri:"8 Ø´ÙˆØ§Ù„ 1447", fajr:"04:58", sunrise:"06:12", dhuhr:"12:26", asr:"15:52", maghrib:"18:35", isha:"19:50" },
  "2026-03-28": { hijri:"9 Ø´ÙˆØ§Ù„ 1447", fajr:"04:57", sunrise:"06:11", dhuhr:"12:26", asr:"15:52", maghrib:"18:36", isha:"19:50" },
  "2026-03-29": { hijri:"10 Ø´ÙˆØ§Ù„ 1447", fajr:"04:55", sunrise:"06:10", dhuhr:"12:25", asr:"15:52", maghrib:"18:36", isha:"19:51" },
  "2026-03-30": { hijri:"11 Ø´ÙˆØ§Ù„ 1447", fajr:"04:54", sunrise:"06:09", dhuhr:"12:25", asr:"15:52", maghrib:"18:37", isha:"19:51" },
  "2026-03-31": { hijri:"12 Ø´ÙˆØ§Ù„ 1447", fajr:"04:53", sunrise:"06:08", dhuhr:"12:25", asr:"15:51", maghrib:"18:37", isha:"19:52" }
};

const el=id=>document.getElementById(id);
const pad=n=>String(n).padStart(2,"0");

function formatTime12(hhmm){
  const [h,m]=hhmm.split(":").map(Number);
  const ampm=h>=12?"Ù…":"Øµ";
  const h12=((h+11)%12)+1;
  return `${h12}:${pad(m)} ${ampm}`;
}

function todayKey(){
  const d=new Date();
  return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
}

function updateClock(){
  const now=new Date();
  const h=now.getHours(), m=now.getMinutes();
  const ampm=h>=12?"Ù…":"Øµ";
  const h12=((h+11)%12)+1;
  el("clock").textContent=`${h12}:${pad(m)} ${ampm}`;
}
setInterval(updateClock,1000); updateClock();

function updateDateBar(row){
  const now=new Date();
  const greg = now.toLocaleDateString("ar-AE",{weekday:"long",year:"numeric",month:"long",day:"numeric"});
  const hijri = row?.hijri || "â€”";
  el("dateText").textContent = `${greg} | ${hijri}`;

  const badge = el("ramadanBadge");
  if(hijri.includes("Ø±Ù…Ø¶Ø§Ù†")){
    const m = hijri.match(/\d+/);
    const day = m ? parseInt(m[0],10) : null;
    badge.textContent = day ? `Ø§Ù„ÙŠÙˆÙ… ${day} Ù…Ù† Ø±Ù…Ø¶Ø§Ù†` : "Ø±Ù…Ø¶Ø§Ù†";
    badge.style.display="inline-block";
  }else{
    badge.style.display="none";
  }
}

function parseTodayTime(hhmm){
  const d=new Date();
  const [h,m]=hhmm.split(":").map(Number);
  return new Date(d.getFullYear(), d.getMonth(), d.getDate(), h, m, 0);
}

function startCountdown(target, output){
  function tick(){
    let diff = target - new Date();
    if(diff < 0) diff = 0;
    const s = Math.floor(diff/1000);
    output.textContent = `${pad(Math.floor(s/3600))}:${pad(Math.floor((s%3600)/60))}:${pad(s%60)}`;
  }
  tick(); setInterval(tick,1000);
}

function renderRow(row){
  const grid = el("times");
  grid.innerHTML="";

  const items = [
    {n:"Ø§Ù„ÙØ¬Ø±", t:row.fajr},
    {n:"Ø§Ù„Ø´Ø±ÙˆÙ‚", t:row.sunrise},
    {n:"Ø§Ù„Ø¸Ù‡Ø±", t:row.dhuhr},
    {n:"Ø§Ù„Ø¹ØµØ±", t:row.asr},
    {n:"Ø§Ù„Ù…ØºØ±Ø¨", t:row.maghrib},
    {n:"Ø§Ù„Ø¹Ø´Ø§Ø¡", t:row.isha},
  ];

  for(const it of items){
    const c=document.createElement("div");
    c.className="card";
    c.innerHTML=`<span class="pname">${it.n}</span><span class="ptime">${it.t}</span>`;
    grid.appendChild(c);
  }

  // next prayer (exclude sunrise)
  const seq=[
    {n:"Ø§Ù„ÙØ¬Ø±", k:"fajr"},
    {n:"Ø§Ù„Ø¸Ù‡Ø±", k:"dhuhr"},
    {n:"Ø§Ù„Ø¹ØµØ±", k:"asr"},
    {n:"Ø§Ù„Ù…ØºØ±Ø¨", k:"maghrib"},
    {n:"Ø§Ù„Ø¹Ø´Ø§Ø¡", k:"isha"}
  ];

  const now=new Date();
  let next=null;

  for(const p of seq){
    const dt=parseTodayTime(row[p.k]);
    if(dt>now){ next={name:p.n, at:row[p.k], dt}; break; }
  }

  // fallback to tomorrow fajr
  if(!next){
    const d=new Date(); d.setDate(d.getDate()+1);
    const k=`${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
    const t=SHJ[k];
    if(t){
      const [hh,mm]=t.fajr.split(":").map(Number);
      const dt=new Date(d.getFullYear(), d.getMonth(), d.getDate(), hh, mm, 0);
      next={name:"Ø§Ù„ÙØ¬Ø±", at:t.fajr, dt};
      el("status").textContent="ØªÙ… Ø§Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„Ø¹Ø¯Ù‘Ø§Ø¯ ÙØ¬Ø± Ø§Ù„ØºØ¯ âœ…";
    }else{
      el("status").textContent="Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø³Ø·Ø± Ù„Ù„ØºØ¯ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ â€” Ø£Ø¶ÙŠÙÙˆØ§ Ø£ÙŠØ§Ù… Ø¬Ø¯ÙŠØ¯Ø©.";
    }
  }

  if(next){
    el("nextName").textContent = `${next.name} â€” ${formatTime12(next.at)}`;
    startCountdown(next.dt, el("nextCount"));
  }

  el("iftarAt").textContent = `Ø§Ù„Ù…ØºØ±Ø¨ â€” ${formatTime12(row.maghrib)}`;
  startCountdown(parseTodayTime(row.maghrib), el("iftarCount"));
}

(function init(){
  const key=todayKey();
  const row=SHJ[key];

  if(!row){
    const keys=Object.keys(SHJ).sort();
    const last=SHJ[keys[keys.length-1]];
    updateDateBar(last);
    renderRow(last);
    el("status").textContent="Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ø§Ù„ÙŠ Ø®Ø§Ø±Ø¬ Ù†Ø·Ø§Ù‚ Ø§Ù„Ø¬Ø¯ÙˆÙ„ â€” Ø£Ø¶ÙŠÙÙˆØ§ Ø£ÙŠØ§Ù… Ø¬Ø¯ÙŠØ¯Ø©.";
    return;
  }

  updateDateBar(row);
  renderRow(row);
})();
</script>
</body>
</html>
