<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>

<link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
--gold1:#b8891a;
--gold2:#f6e08d;
--gold3:#d4af37;
--gold4:#8a6512;
--soft-bg:#f7f9fc;
--ink:#1d2430;
}

body{
margin:0;
font-family:'Amiri',serif;
background:var(--soft-bg);
color:var(--ink);
overflow:hidden;
}

/* Ø¥Ø·Ø§Ø± Ø°Ù‡Ø¨ÙŠ Ø±Ø³Ù…ÙŠ */
body::before{
content:"";
position:fixed;
inset:0;
border:6px solid transparent;
border-image:linear-gradient(135deg,var(--gold1),var(--gold2),var(--gold3),var(--gold4)) 1;
pointer-events:none;
}

.wrap{
padding:30px;
height:100vh;
display:grid;
grid-template-rows:auto auto auto 1fr;
gap:18px;
}

/* Ø§Ù„Ù‡ÙŠØ¯Ø± */
header{
display:flex;
justify-content:space-between;
align-items:center;
}

.clock{
font-size:64px;
font-weight:700;
}

/* Ø§Ù„ØªØ§Ø±ÙŠØ® */
.datebar{
text-align:center;
font-size:24px;
font-weight:700;
background:white;
padding:12px;
border-radius:16px;
box-shadow:0 8px 18px rgba(0,0,0,.05);
}

/* Ø´Ø±ÙŠØ· Ø°Ù‡Ø¨ÙŠ Ø±Ø³Ù…ÙŠ */
.banner{
position:relative;
padding:22px;
border-radius:20px;
background:linear-gradient(135deg,var(--gold1),var(--gold2),var(--gold3),var(--gold4));
text-align:center;
font-size:32px;
font-weight:700;
color:#3a2c00;
overflow:hidden;
}

.banner::after{
content:"";
position:absolute;
top:0;
left:-60%;
width:40%;
height:100%;
background:linear-gradient(120deg,transparent,rgba(255,255,255,.7),transparent);
transform:skewX(-25deg);
animation:shine 5s infinite;
}

@keyframes shine{
0%{left:-60%;}
50%{left:130%;}
100%{left:130%;}
}

/* Ø´Ø¨ÙƒØ© Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª */
.grid{
display:grid;
grid-template-columns:repeat(3,1fr);
gap:16px;
}

.card{
background:white;
border-radius:18px;
padding:20px;
text-align:center;
font-size:24px;
font-weight:700;
box-shadow:0 10px 22px rgba(0,0,0,.06);
}

/* Ø§Ù„Ø¹Ø¯Ø§Ø¯Ø§Øª */
.count-section{
display:grid;
grid-template-columns:1fr 1fr;
gap:18px;
margin-top:18px;
}

.count-box{
background:white;
border-radius:20px;
padding:20px;
text-align:center;
box-shadow:0 10px 22px rgba(0,0,0,.06);
}

.count-title{
font-size:22px;
font-weight:700;
}

.count-time{
font-size:60px;
font-weight:700;
margin-top:10px;
}
</style>
</head>

<body>
<div class="wrap">

<header>
<div style="font-size:28px;font-weight:700;">Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© - Ø¥Ù…Ø§Ø±Ø© Ø§Ù„Ø´Ø§Ø±Ù‚Ø©</div>
<div id="clock" class="clock"></div>
</header>

<div id="date" class="datebar"></div>

<div class="banner">
Ù…Ø±ÙƒØ² ÙƒÙ„Ù…Ø§Øª Ù„Ù„ØªØ£Ù‡ÙŠÙ„ ÙˆØ¹Ù„Ø§Ø¬ Ø§Ù„Ù†Ø·Ù‚ ÙŠØªÙ…Ù†Ù‰ Ù„ÙƒÙ… ØµÙŠØ§Ù…Ø§Ù‹ Ù…Ù‚Ø¨ÙˆÙ„Ø§Ù‹ ÙˆØ¥ÙØ·Ø§Ø±Ø§Ù‹ Ù‡Ù†ÙŠØ¦Ø§Ù‹ ğŸŒ™
</div>

<div>
<div class="grid" id="times"></div>

<div class="count-section">
<div class="count-box">
<div class="count-title">Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</div>
<div id="nextName"></div>
<div id="nextCount" class="count-time"></div>
</div>

<div class="count-box">
<div class="count-title">ÙˆÙ‚Øª Ø§Ù„Ø¥ÙØ·Ø§Ø± (Ø§Ù„Ù…ØºØ±Ø¨)</div>
<div id="iftarCount" class="count-time"></div>
</div>
</div>
</div>

</div>

<script>
const PRAYERS=[
{key:"Fajr",ar:"Ø§Ù„ÙØ¬Ø±"},
{key:"Sunrise",ar:"Ø§Ù„Ø´Ø±ÙˆÙ‚"},
{key:"Dhuhr",ar:"Ø§Ù„Ø¸Ù‡Ø±"},
{key:"Asr",ar:"Ø§Ù„Ø¹ØµØ±"},
{key:"Maghrib",ar:"Ø§Ù„Ù…ØºØ±Ø¨"},
{key:"Isha",ar:"Ø§Ù„Ø¹Ø´Ø§Ø¡"}
];

const el=id=>document.getElementById(id);
const pad=n=>String(n).padStart(2,"0");

/* Ø§Ù„Ø³Ø§Ø¹Ø© */
function updateClock(){
let now=new Date();
let h=now.getHours(),m=now.getMinutes();
let ampm=h>=12?"Ù…":"Øµ";
let h12=((h+11)%12)+1;
el("clock").textContent=`${h12}:${pad(m)} ${ampm}`;
}
setInterval(updateClock,1000);updateClock();

/* Ø§Ù„ØªØ§Ø±ÙŠØ® */
function updateDate(){
let now=new Date();
let greg=now.toLocaleDateString("ar-AE",{weekday:"long",year:"numeric",month:"long",day:"numeric"});
let hijri=new Intl.DateTimeFormat("ar-SA-u-ca-islamic",{day:"numeric",month:"long",year:"numeric"}).format(now);
el("date").textContent=greg+" | "+hijri;
}
updateDate();

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…ÙˆØ§Ù‚ÙŠØª */
async function fetchTimes(){
let r=await fetch("https://api.aladhan.com/v1/timingsByCity?city=Sharjah&country=United%20Arab%20Emirates&method=8");
let j=await r.json();
return j.data.timings;
}

function parseToday(t){
let now=new Date();
let [h,m]=t.split(":").map(Number);
return new Date(now.getFullYear(),now.getMonth(),now.getDate(),h,m);
}

function startCountdown(target,output){
function tick(){
let diff=target-new Date();
if(diff<0) diff=0;
let s=Math.floor(diff/1000);
output.textContent=`${pad(Math.floor(s/3600))}:${pad(Math.floor((s%3600)/60))}:${pad(s%60)}`;
}
tick();setInterval(tick,1000);
}

async function init(){
let timings=await fetchTimes();

let grid=el("times");
PRAYERS.forEach(p=>{
let t=timings[p.key].slice(0,5);
let div=document.createElement("div");
div.className="card";
div.innerHTML=`${p.ar}<br>${t}`;
grid.appendChild(div);
});

let now=new Date();
let next=null;
for(let p of PRAYERS.filter(x=>x.key!=="Sunrise")){
let t=parseToday(timings[p.key].slice(0,5));
if(t>now){next={name:p.ar,time:t};break;}
}

if(!next){
let fajr=parseToday(timings["Fajr"].slice(0,5));
fajr.setDate(fajr.getDate()+1);
next={name:"Ø§Ù„ÙØ¬Ø±",time:fajr};
}

el("nextName").textContent=next.name;
startCountdown(next.time,el("nextCount"));

let maghrib=parseToday(timings["Maghrib"].slice(0,5));
startCountdown(maghrib,el("iftarCount"));
}

init();
</script>

</body>
</html>
