<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© - Ø¥Ù…Ø§Ø±Ø© Ø§Ù„Ø´Ø§Ø±Ù‚Ø©</title>

  <style>
    :root{
      --pad: 18px;
      --gap: 14px;
      --radius: 18px;
      --card-radius: 18px;

      --text: #111827;
      --muted: #6b7280;
      --bg: #f6f8fb;

      --gold1: #b9851f;
      --gold2: #f4df9b;

      --shadow: 0 10px 26px rgba(0,0,0,.08);
      --shadow-soft: 0 8px 18px rgba(0,0,0,.06);
      --border: rgba(17,24,39,.08);

      --clock: 78px;
      --ampm: 22px;
      --title: 32px;
      --sub: 18px;

      --banner: 34px;
      --bannerPadY: 12px;
      --bannerPadX: 18px;

      --pname: 24px;
      --ptime: 44px;

      --bigTitle: 22px;
      --bigCount: 64px;

      --footer: 14px;
    }

    /* Ø¹Ù†Ø¯ Ø§Ù„Ø´Ø§Ø´Ø§Øª Ø§Ù„Ø£Ù‚ØµØ± (ØºØ§Ù„Ø¨Ø§Ù‹ Pickcel Preview / Android WebView) */
    .tight{
      --pad: 14px;
      --gap: 12px;
      --clock: 68px;
      --title: 30px;
      --banner: 30px;
      --ptime: 40px;
      --bigCount: 58px;
    }

    *{ box-sizing: border-box; }
    html,body{
      height:100%;
      margin:0;
      background: var(--bg);
      color: var(--text);
      font-family: Tahoma, Arial, "Segoe UI", sans-serif;
      overflow:hidden;
    }

    .bg{
      position: fixed;
      inset: 0;
      background:
        radial-gradient(1200px 600px at 12% 10%, rgba(99,102,241,.10), transparent 55%),
        radial-gradient(900px 550px at 85% 25%, rgba(14,165,233,.10), transparent 60%),
        radial-gradient(1000px 700px at 70% 90%, rgba(34,197,94,.08), transparent 55%),
        linear-gradient(180deg, #f7f9fc, #f4f6fb);
      z-index: 0;
    }

    /* âœ… Auto-Fit wrapper */
    .fitStage{
      position: relative;
      z-index: 1;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }
    .fitRoot{
      position:absolute;
      top:0;
      right:0;
      width: 100vw;
      height: 100vh;
      transform-origin: top right;
      transform: scale(var(--fitScale, 1));
    }

    .frame{
      height: 100vh;
      padding: var(--pad);
      display: flex;
      flex-direction: column;
      gap: var(--gap);
    }

    .outer{
      height:100%;
      border-radius: 26px;
      border: 3px solid rgba(185,133,31,.6);
      box-shadow: var(--shadow);
      background: rgba(255,255,255,.72);
      backdrop-filter: blur(6px);
      padding: var(--pad);
      display:flex;
      flex-direction: column;
      gap: var(--gap);
      overflow:hidden;
    }

    .top{
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: var(--gap);
    }

    .leftTop{
      display:flex;
      flex-direction: column;
      gap: 6px;
      min-width: 360px;
    }

    .title{
      font-size: var(--title);
      font-weight: 800;
      margin:0;
      line-height: 1.15;
    }
    .subtitle{
      font-size: var(--sub);
      color: var(--muted);
      margin:0;
      font-weight: 600;
    }

    .rightTop{
      display:flex;
      align-items:center;
      gap: 14px;
    }

    .logoWrap{
      width: 86px;
      height: 86px;
      border-radius: 18px;
      background: rgba(255,255,255,.85);
      border: 1px solid var(--border);
      display:flex;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      box-shadow: var(--shadow-soft);
    }
    .logoWrap img{
      width: 78px;
      height: 78px;
      object-fit: contain;
      display:block;
    }

    .clock{
      font-size: var(--clock);
      font-weight: 900;
      letter-spacing: 1px;
      line-height: 1;
      display:flex;
      align-items: baseline;
      gap: 10px;
      white-space: nowrap;
    }
    .clock .ampm{
      font-size: var(--ampm);
      font-weight: 800;
      color: var(--muted);
      transform: translateY(-6px);
    }

    .dateRow{
      background: rgba(255,255,255,.85);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      padding: 12px 16px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      gap: 12px;
      box-shadow: var(--shadow-soft);
    }
    .dateText{
      font-size: 22px;
      font-weight: 800;
      color: #1f2937;
      white-space: nowrap;
      overflow:hidden;
      text-overflow: ellipsis;
    }

    .badge{
      padding: 10px 16px;
      border-radius: 999px;
      font-weight: 900;
      font-size: 18px;
      color: #1f2937;
      border: 1px solid rgba(0,0,0,.10);
      background: linear-gradient(90deg, var(--gold1), var(--gold2));
      box-shadow: 0 10px 18px rgba(185,133,31,.20);
      white-space: nowrap;
      flex: 0 0 auto;
    }

    .banner{
      position: relative;
      border-radius: 20px;
      padding: var(--bannerPadY) var(--bannerPadX);
      font-size: var(--banner);
      font-weight: 900;
      text-align:center;
      color: #1f1400;
      background: linear-gradient(90deg, var(--gold1), var(--gold2), var(--gold1));
      box-shadow: var(--shadow);
      border: 1px solid rgba(0,0,0,.08);
      overflow:hidden;
      z-index: 2;
    }
    .banner::after{
      content:"";
      position:absolute;
      inset: -60px;
      background: radial-gradient(circle at 20% 30%, rgba(255,255,255,.35), transparent 45%);
      pointer-events:none;
      opacity:.55;
      mix-blend-mode: screen;
    }

    .grid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--gap);
    }

    .card{
      background: rgba(255,255,255,.88);
      border: 1px solid var(--border);
      border-radius: var(--card-radius);
      padding: 16px 18px;
      box-shadow: var(--shadow-soft);
      display:flex;
      flex-direction: column;
      justify-content:center;
      align-items:center;
      min-height: 112px;
    }
    .pname{
      font-size: var(--pname);
      font-weight: 900;
      margin: 0 0 10px 0;
    }
    .ptime{
      font-size: var(--ptime);
      font-weight: 900;
      margin:0;
      letter-spacing: .5px;
    }

    .bottom{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: var(--gap);
      margin-top: 2px;
    }

    .big{
      background: rgba(255,255,255,.88);
      border: 1px solid var(--border);
      border-radius: 22px;
      padding: 14px 16px;
      box-shadow: var(--shadow-soft);
      min-height: 136px;
      display:flex;
      flex-direction: column;
      justify-content: center;
      overflow:hidden;
    }
    .bigHeader{
      display:flex;
      align-items:flex-start;
      justify-content: space-between;
      gap: 10px;
      margin-bottom: 6px;
    }
    .bigTitle{
      font-size: var(--bigTitle);
      font-weight: 900;
      margin:0;
      white-space: nowrap;
    }
    .bigMeta{
      font-size: 16px;
      color: var(--muted);
      font-weight: 800;
      margin: 2px 0 0 0;
      white-space: nowrap;
    }
    .count{
      font-size: var(--bigCount);
      font-weight: 1000;
      letter-spacing: 1px;
      text-align:center;
      margin: 0;
      white-space: nowrap;
    }

    .footer{
      text-align:center;
      font-size: var(--footer);
      color: rgba(17,24,39,.55);
      font-weight: 700;
      margin-top: 2px;
      user-select:none;
    }
  </style>
</head>

<body>
  <div class="bg"></div>

  <!-- âœ… Auto-Fit Stage -->
  <div class="fitStage">
    <div class="fitRoot" id="fitRoot">
      <div class="frame">
        <div class="outer" id="app">
          <div class="top">
            <div class="leftTop">
              <h1 class="title">Ù…ÙˆØ§Ù‚ÙŠØª Ø§Ù„ØµÙ„Ø§Ø© - Ø¥Ù…Ø§Ø±Ø© Ø§Ù„Ø´Ø§Ø±Ù‚Ø©</h1>
              <p class="subtitle">Ø¹Ø±Ø¶ Ù…Ù†Ø§Ø³Ø¨ Ù„Ø´Ø§Ø´Ø© Ø§Ù„Ø§Ø³ØªÙ‚Ø¨Ø§Ù„</p>
            </div>

            <div class="rightTop">
              <div class="logoWrap">
                <img src="logo.png" alt="Kalimat Logo" />
              </div>
              <div class="clock" id="clock">
                <span id="clockTime">--:--</span>
                <span class="ampm" id="clockAmPm">--</span>
              </div>
            </div>
          </div>

          <div class="dateRow">
            <div class="dateText" id="dateText">--</div>
            <div class="badge" id="ramadanBadge">Ø±Ù…Ø¶Ø§Ù†</div>
          </div>

          <div class="banner" id="bannerText">
            Ù…Ø±ÙƒØ² ÙƒÙ„Ù…Ø§Øª Ù„Ù„ØªØ£Ù‡ÙŠÙ„ ÙˆØ¹Ù„Ø§Ø¬ Ø§Ù„Ù†Ø·Ù‚ ÙŠØªÙ…Ù†Ù‰ Ù„ÙƒÙ… ØµÙŠØ§Ù…Ø§Ù‹ Ù…Ù‚Ø¨ÙˆÙ„Ø§Ù‹ ÙˆØ¥ÙØ·Ø§Ø±Ø§Ù‹ Ù‡Ù†ÙŠØ¦Ø§Ù‹ ğŸŒ™
          </div>

          <div class="grid" id="prayerGrid">
            <div class="card"><p class="pname">Ø§Ù„ÙØ¬Ø±</p><p class="ptime" id="fajr">--:--</p></div>
            <div class="card"><p class="pname">Ø§Ù„Ø´Ø±ÙˆÙ‚</p><p class="ptime" id="sunrise">--:--</p></div>
            <div class="card"><p class="pname">Ø§Ù„Ø¸Ù‡Ø±</p><p class="ptime" id="dhuhr">--:--</p></div>
            <div class="card"><p class="pname">Ø§Ù„Ø¹ØµØ±</p><p class="ptime" id="asr">--:--</p></div>
            <div class="card"><p class="pname">Ø§Ù„Ù…ØºØ±Ø¨</p><p class="ptime" id="maghrib">--:--</p></div>
            <div class="card"><p class="pname">Ø§Ù„Ø¹Ø´Ø§Ø¡</p><p class="ptime" id="isha">--:--</p></div>
          </div>

          <div class="bottom">
            <div class="big">
              <div class="bigHeader">
                <p class="bigTitle" id="iftarTitle">ÙˆÙ‚Øª Ø§Ù„Ø¥ÙØ·Ø§Ø± (Ø§Ù„Ù…ØºØ±Ø¨)</p>
                <p class="bigMeta" id="iftarMeta">--</p>
              </div>
              <p class="count" id="iftarCount">--:--:--</p>
            </div>

            <div class="big">
              <div class="bigHeader">
                <p class="bigTitle" id="nextTitle">Ø§Ù„ØµÙ„Ø§Ø© Ø§Ù„Ù‚Ø§Ø¯Ù…Ø©</p>
                <p class="bigMeta" id="nextMeta">--</p>
              </div>
              <p class="count" id="nextCount">--:--:--</p>
            </div>
          </div>

          <div class="footer">Ø¬Ø¯ÙˆÙ„ Ø«Ø§Ø¨Øª Ù…Ø·Ø§Ø¨Ù‚ Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø­ÙƒÙˆÙ…Ø© Ø§Ù„Ø´Ø§Ø±Ù‚Ø© (ÙØ¨Ø±Ø§ÙŠØ± + Ù…Ø§Ø±Ø³ 2026)</div>
        </div>
      </div>
    </div>
  </div>

<script>
/* ===== Ø¬Ø¯ÙˆÙ„ Ø«Ø§Ø¨Øª ÙØ¨Ø±Ø§ÙŠØ± + Ù…Ø§Ø±Ø³ 2026 (ÙƒÙ…Ø§ Ø£Ø±Ø³Ù„ØªÙŠÙ‡) ===== */
const TABLE = [
  {d:"2026-02-01", h:"13 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:42 Øµ", sunrise:"6:58 Øµ", dhuhr:"12:34 Ù…", asr:"3:41 Ù…", maghrib:"6:05 Ù…", isha:"7:21 Ù…"},
  {d:"2026-02-02", h:"14 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:42 Øµ", sunrise:"6:58 Øµ", dhuhr:"12:34 Ù…", asr:"3:41 Ù…", maghrib:"6:06 Ù…", isha:"7:22 Ù…"},
  {d:"2026-02-03", h:"15 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:41 Øµ", sunrise:"6:57 Øµ", dhuhr:"12:34 Ù…", asr:"3:42 Ù…", maghrib:"6:07 Ù…", isha:"7:23 Ù…"},
  {d:"2026-02-04", h:"16 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:41 Øµ", sunrise:"6:57 Øµ", dhuhr:"12:34 Ù…", asr:"3:42 Ù…", maghrib:"6:07 Ù…", isha:"7:23 Ù…"},
  {d:"2026-02-05", h:"17 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:40 Øµ", sunrise:"6:56 Øµ", dhuhr:"12:35 Ù…", asr:"3:43 Ù…", maghrib:"6:08 Ù…", isha:"7:24 Ù…"},
  {d:"2026-02-06", h:"18 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:40 Øµ", sunrise:"6:55 Øµ", dhuhr:"12:35 Ù…", asr:"3:43 Ù…", maghrib:"6:09 Ù…", isha:"7:24 Ù…"},
  {d:"2026-02-07", h:"19 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:40 Øµ", sunrise:"6:55 Øµ", dhuhr:"12:35 Ù…", asr:"3:44 Ù…", maghrib:"6:10 Ù…", isha:"7:25 Ù…"},
  {d:"2026-02-08", h:"20 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:39 Øµ", sunrise:"6:54 Øµ", dhuhr:"12:35 Ù…", asr:"3:44 Ù…", maghrib:"6:10 Ù…", isha:"7:26 Ù…"},
  {d:"2026-02-09", h:"21 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:39 Øµ", sunrise:"6:54 Øµ", dhuhr:"12:35 Ù…", asr:"3:45 Ù…", maghrib:"6:11 Ù…", isha:"7:26 Ù…"},
  {d:"2026-02-10", h:"22 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:38 Øµ", sunrise:"6:53 Øµ", dhuhr:"12:35 Ù…", asr:"3:45 Ù…", maghrib:"6:12 Ù…", isha:"7:27 Ù…"},
  {d:"2026-02-11", h:"23 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:37 Øµ", sunrise:"6:52 Øµ", dhuhr:"12:35 Ù…", asr:"3:46 Ù…", maghrib:"6:12 Ù…", isha:"7:27 Ù…"},
  {d:"2026-02-12", h:"24 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:37 Øµ", sunrise:"6:52 Øµ", dhuhr:"12:35 Ù…", asr:"3:46 Ù…", maghrib:"6:13 Ù…", isha:"7:28 Ù…"},
  {d:"2026-02-13", h:"25 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:36 Øµ", sunrise:"6:51 Øµ", dhuhr:"12:35 Ù…", asr:"3:47 Ù…", maghrib:"6:14 Ù…", isha:"7:28 Ù…"},
  {d:"2026-02-14", h:"26 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:36 Øµ", sunrise:"6:50 Øµ", dhuhr:"12:35 Ù…", asr:"3:47 Ù…", maghrib:"6:14 Ù…", isha:"7:29 Ù…"},
  {d:"2026-02-15", h:"27 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:35 Øµ", sunrise:"6:50 Øµ", dhuhr:"12:35 Ù…", asr:"3:47 Ù…", maghrib:"6:15 Ù…", isha:"7:29 Ù…"},
  {d:"2026-02-16", h:"28 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:34 Øµ", sunrise:"6:49 Øµ", dhuhr:"12:35 Ù…", asr:"3:48 Ù…", maghrib:"6:15 Ù…", isha:"7:30 Ù…"},
  {d:"2026-02-17", h:"29 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:34 Øµ", sunrise:"6:48 Øµ", dhuhr:"12:35 Ù…", asr:"3:48 Ù…", maghrib:"6:16 Ù…", isha:"7:31 Ù…"},
  {d:"2026-02-18", h:"30 Ø´Ø¹Ø¨Ø§Ù† 1447", fajr:"5:33 Øµ", sunrise:"6:47 Øµ", dhuhr:"12:34 Ù…", asr:"3:48 Ù…", maghrib:"6:17 Ù…", isha:"7:31 Ù…"},
  {d:"2026-02-19", h:"1 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:32 Øµ", sunrise:"6:47 Øµ", dhuhr:"12:34 Ù…", asr:"3:49 Ù…", maghrib:"6:17 Ù…", isha:"7:32 Ù…"},
  {d:"2026-02-20", h:"2 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:32 Øµ", sunrise:"6:46 Øµ", dhuhr:"12:34 Ù…", asr:"3:49 Ù…", maghrib:"6:18 Ù…", isha:"7:32 Ù…"},
  {d:"2026-02-21", h:"3 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:31 Øµ", sunrise:"6:45 Øµ", dhuhr:"12:34 Ù…", asr:"3:49 Ù…", maghrib:"6:18 Ù…", isha:"7:33 Ù…"},
  {d:"2026-02-22", h:"4 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:30 Øµ", sunrise:"6:44 Øµ", dhuhr:"12:34 Ù…", asr:"3:50 Ù…", maghrib:"6:19 Ù…", isha:"7:33 Ù…"},
  {d:"2026-02-23", h:"5 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:29 Øµ", sunrise:"6:43 Øµ", dhuhr:"12:34 Ù…", asr:"3:50 Ù…", maghrib:"6:20 Ù…", isha:"7:34 Ù…"},
  {d:"2026-02-24", h:"6 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:29 Øµ", sunrise:"6:43 Øµ", dhuhr:"12:34 Ù…", asr:"3:50 Ù…", maghrib:"6:20 Ù…", isha:"7:34 Ù…"},
  {d:"2026-02-25", h:"7 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:28 Øµ", sunrise:"6:42 Øµ", dhuhr:"12:34 Ù…", asr:"3:51 Ù…", maghrib:"6:21 Ù…", isha:"7:35 Ù…"},
  {d:"2026-02-26", h:"8 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:27 Øµ", sunrise:"6:41 Øµ", dhuhr:"12:33 Ù…", asr:"3:51 Ù…", maghrib:"6:21 Ù…", isha:"7:35 Ù…"},
  {d:"2026-02-27", h:"9 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:26 Øµ", sunrise:"6:40 Øµ", dhuhr:"12:33 Ù…", asr:"3:51 Ù…", maghrib:"6:22 Ù…", isha:"7:36 Ù…"},
  {d:"2026-02-28", h:"10 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:25 Øµ", sunrise:"6:39 Øµ", dhuhr:"12:33 Ù…", asr:"3:51 Ù…", maghrib:"6:22 Ù…", isha:"7:36 Ù…"},

  {d:"2026-03-01", h:"11 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:24 Øµ", sunrise:"6:38 Øµ", dhuhr:"12:33 Ù…", asr:"3:51 Ù…", maghrib:"6:23 Ù…", isha:"7:37 Ù…"},
  {d:"2026-03-02", h:"12 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:24 Øµ", sunrise:"6:37 Øµ", dhuhr:"12:33 Ù…", asr:"3:52 Ù…", maghrib:"6:23 Ù…", isha:"7:37 Ù…"},
  {d:"2026-03-03", h:"13 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:23 Øµ", sunrise:"6:36 Øµ", dhuhr:"12:33 Ù…", asr:"3:52 Ù…", maghrib:"6:24 Ù…", isha:"7:38 Ù…"},
  {d:"2026-03-04", h:"14 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:22 Øµ", sunrise:"6:35 Øµ", dhuhr:"12:32 Ù…", asr:"3:52 Ù…", maghrib:"6:24 Ù…", isha:"7:38 Ù…"},
  {d:"2026-03-05", h:"15 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:21 Øµ", sunrise:"6:34 Øµ", dhuhr:"12:32 Ù…", asr:"3:52 Ù…", maghrib:"6:25 Ù…", isha:"7:39 Ù…"},
  {d:"2026-03-06", h:"16 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:20 Øµ", sunrise:"6:33 Øµ", dhuhr:"12:32 Ù…", asr:"3:52 Ù…", maghrib:"6:25 Ù…", isha:"7:39 Ù…"},
  {d:"2026-03-07", h:"17 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:19 Øµ", sunrise:"6:32 Øµ", dhuhr:"12:32 Ù…", asr:"3:52 Ù…", maghrib:"6:26 Ù…", isha:"7:40 Ù…"},
  {d:"2026-03-08", h:"18 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:18 Øµ", sunrise:"6:31 Øµ", dhuhr:"12:31 Ù…", asr:"3:52 Ù…", maghrib:"6:26 Ù…", isha:"7:40 Ù…"},
  {d:"2026-03-09", h:"19 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:17 Øµ", sunrise:"6:30 Øµ", dhuhr:"12:31 Ù…", asr:"3:52 Ù…", maghrib:"6:27 Ù…", isha:"7:41 Ù…"},
  {d:"2026-03-10", h:"20 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:16 Øµ", sunrise:"6:29 Øµ", dhuhr:"12:31 Ù…", asr:"3:53 Ù…", maghrib:"6:27 Ù…", isha:"7:41 Ù…"},
  {d:"2026-03-11", h:"21 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:15 Øµ", sunrise:"6:28 Øµ", dhuhr:"12:31 Ù…", asr:"3:53 Ù…", maghrib:"6:28 Ù…", isha:"7:42 Ù…"},
  {d:"2026-03-12", h:"22 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:14 Øµ", sunrise:"6:27 Øµ", dhuhr:"12:30 Ù…", asr:"3:53 Ù…", maghrib:"6:28 Ù…", isha:"7:42 Ù…"},
  {d:"2026-03-13", h:"23 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:13 Øµ", sunrise:"6:26 Øµ", dhuhr:"12:30 Ù…", asr:"3:53 Ù…", maghrib:"6:29 Ù…", isha:"7:43 Ù…"},
  {d:"2026-03-14", h:"24 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:12 Øµ", sunrise:"6:25 Øµ", dhuhr:"12:30 Ù…", asr:"3:53 Ù…", maghrib:"6:29 Ù…", isha:"7:43 Ù…"},
  {d:"2026-03-15", h:"25 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:11 Øµ", sunrise:"6:24 Øµ", dhuhr:"12:30 Ù…", asr:"3:53 Ù…", maghrib:"6:30 Ù…", isha:"7:44 Ù…"},
  {d:"2026-03-16", h:"26 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:10 Øµ", sunrise:"6:23 Øµ", dhuhr:"12:29 Ù…", asr:"3:53 Ù…", maghrib:"6:30 Ù…", isha:"7:44 Ù…"},
  {d:"2026-03-17", h:"27 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:09 Øµ", sunrise:"6:22 Øµ", dhuhr:"12:29 Ù…", asr:"3:53 Ù…", maghrib:"6:31 Ù…", isha:"7:44 Ù…"},
  {d:"2026-03-18", h:"28 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:08 Øµ", sunrise:"6:21 Øµ", dhuhr:"12:29 Ù…", asr:"3:53 Ù…", maghrib:"6:31 Ù…", isha:"7:45 Ù…"},
  {d:"2026-03-19", h:"29 Ø±Ù…Ø¶Ø§Ù† 1447", fajr:"5:07 Øµ", sunrise:"6:20 Øµ", dhuhr:"12:28 Ù…", asr:"3:53 Ù…", maghrib:"6:32 Ù…", isha:"7:45 Ù…"},
  {d:"2026-03-20", h:"1 Ø´ÙˆØ§Ù„ 1447", fajr:"5:05 Øµ", sunrise:"6:19 Øµ", dhuhr:"12:28 Ù…", asr:"3:53 Ù…", maghrib:"6:32 Ù…", isha:"7:46 Ù…"},
  {d:"2026-03-21", h:"2 Ø´ÙˆØ§Ù„ 1447", fajr:"5:04 Øµ", sunrise:"6:18 Øµ", dhuhr:"12:28 Ù…", asr:"3:53 Ù…", maghrib:"6:33 Ù…", isha:"7:46 Ù…"},
  {d:"2026-03-22", h:"3 Ø´ÙˆØ§Ù„ 1447", fajr:"5:03 Øµ", sunrise:"6:17 Øµ", dhuhr:"12:27 Ù…", asr:"3:52 Ù…", maghrib:"6:33 Ù…", isha:"7:47 Ù…"},
  {d:"2026-03-23", h:"4 Ø´ÙˆØ§Ù„ 1447", fajr:"5:02 Øµ", sunrise:"6:16 Øµ", dhuhr:"12:27 Ù…", asr:"3:52 Ù…", maghrib:"6:33 Ù…", isha:"7:48 Ù…"},
  {d:"2026-03-24", h:"5 Ø´ÙˆØ§Ù„ 1447", fajr:"5:01 Øµ", sunrise:"6:15 Øµ", dhuhr:"12:27 Ù…", asr:"3:52 Ù…", maghrib:"6:34 Ù…", isha:"7:48 Ù…"},
  {d:"2026-03-25", h:"6 Ø´ÙˆØ§Ù„ 1447", fajr:"5:00 Øµ", sunrise:"6:14 Øµ", dhuhr:"12:27 Ù…", asr:"3:52 Ù…", maghrib:"6:34 Ù…", isha:"7:49 Ù…"},
  {d:"2026-03-26", h:"7 Ø´ÙˆØ§Ù„ 1447", fajr:"4:59 Øµ", sunrise:"6:13 Øµ", dhuhr:"12:26 Ù…", asr:"3:52 Ù…", maghrib:"6:35 Ù…", isha:"7:49 Ù…"},
  {d:"2026-03-27", h:"8 Ø´ÙˆØ§Ù„ 1447", fajr:"4:58 Øµ", sunrise:"6:12 Øµ", dhuhr:"12:26 Ù…", asr:"3:52 Ù…", maghrib:"6:35 Ù…", isha:"7:50 Ù…"},
  {d:"2026-03-28", h:"9 Ø´ÙˆØ§Ù„ 1447", fajr:"4:57 Øµ", sunrise:"6:11 Øµ", dhuhr:"12:26 Ù…", asr:"3:52 Ù…", maghrib:"6:36 Ù…", isha:"7:50 Ù…"},
  {d:"2026-03-29", h:"10 Ø´ÙˆØ§Ù„ 1447", fajr:"4:55 Øµ", sunrise:"6:10 Øµ", dhuhr:"12:25 Ù…", asr:"3:52 Ù…", maghrib:"6:36 Ù…", isha:"7:51 Ù…"},
  {d:"2026-03-30", h:"11 Ø´ÙˆØ§Ù„ 1447", fajr:"4:54 Øµ", sunrise:"6:09 Øµ", dhuhr:"12:25 Ù…", asr:"3:52 Ù…", maghrib:"6:37 Ù…", isha:"7:51 Ù…"},
  {d:"2026-03-31", h:"12 Ø´ÙˆØ§Ù„ 1447", fajr:"4:53 Øµ", sunrise:"6:08 Øµ", dhuhr:"12:25 Ù…", asr:"3:51 Ù…", maghrib:"6:37 Ù…", isha:"7:52 Ù…"},
];

const BY_DATE = Object.fromEntries(TABLE.map(x => [x.d, x]));

const AR_DAYS = ["Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ø³Ø¨Øª"];
const AR_MONTHS = ["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ","ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"];

function pad(n){ return String(n).padStart(2,"0"); }
function ymd(d){ return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`; }

function parseArabicTimeToMinutes(t){
  const s = (t||"").trim();
  const m = s.match(/^(\d{1,2}):(\d{2})\s*(Øµ|Ù…)$/);
  if(!m) return null;
  let hh = parseInt(m[1],10);
  const mm = parseInt(m[2],10);
  const ap = m[3];
  if(ap === "Øµ"){ if(hh === 12) hh = 0; }
  else { if(hh !== 12) hh += 12; }
  return hh*60 + mm;
}
function minutesToHHMM(min){
  const hh = Math.floor(min/60), mm = min%60;
  return `${pad(hh)}:${pad(mm)}`;
}
function formatClock(d){
  let h = d.getHours();
  const m = d.getMinutes();
  const ap = h>=12 ? "Ù…" : "Øµ";
  h = h%12; if(h===0) h=12;
  return {time:`${h}:${pad(m)}`, ap};
}
function formatCountdown(ms){
  ms = Math.max(0, ms);
  const s = Math.floor(ms/1000);
  const hh = Math.floor(s/3600);
  const mm = Math.floor((s%3600)/60);
  const ss = s%60;
  return `${pad(hh)}:${pad(mm)}:${pad(ss)}`;
}
function getRamadanDayFromHijri(h){
  const m = (h||"").match(/^(\d{1,2})\s+Ø±Ù…Ø¶Ø§Ù†\b/);
  return m ? parseInt(m[1],10) : null;
}
function setText(id, val){
  const el = document.getElementById(id);
  if(el) el.textContent = val;
}

/* âœ… Auto-fit scale (ÙŠÙ…Ù†Ø¹ Ø§Ù„Ù‚Øµ ÙÙŠ Pickcel/Android) */
function applyAutoFit(){
  const root = document.getElementById("fitRoot");
  const app = document.getElementById("app");

  // Ø´Ø¯/Ø±Ø®Ù‘Øµ Ø¨Ø§Ù„Ø³ØªØ§ÙŠÙ„ Ø­Ø³Ø¨ Ù‚ØµØ± Ø§Ù„Ø´Ø§Ø´Ø©
  if(window.innerHeight < 820 || window.innerWidth < 1400){
    app.classList.add("tight");
  }else{
    app.classList.remove("tight");
  }

  // Ø¨Ø¹Ø¯ Ù…Ø§ ØªØªØºÙŠØ± Ø§Ù„Ù…ØªØºÙŠØ±Ø§ØªØŒ Ø§Ø­Ø³Ø¨ Ø§Ù„Ø­Ø¬Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆØ§Ø¹Ù…ÙÙ„ scale
  requestAnimationFrame(() => {
    const vw = window.innerWidth;
    const vh = window.innerHeight;

    // Ø§Ù„Ù…Ù‚Ø§Ø³ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠ Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ
    const rect = root.getBoundingClientRect();
    // rect Ù‡Ù†Ø§ Ø¨Ø¹Ø¯ scale Ø§Ù„Ù‚Ø¯ÙŠÙ…ØŒ ÙØ¨Ø¯Ù†Ø§ Ù†Ø±Ø¬Ø¹ scale Ù„Ù€ 1 Ù…Ø¤Ù‚ØªØ§Ù‹
    root.style.transform = "scale(1)";
    const r2 = root.getBoundingClientRect();

    const scaleW = vw / r2.width;
    const scaleH = vh / r2.height;
    const scale = Math.min(scaleW, scaleH, 1); // Ù…Ø§ Ù†ÙƒØ¨Ù‘Ø±ØŒ ÙÙ‚Ø· Ù†ØµØºÙ‘Ø± Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø©

    root.style.transform = `scale(${scale})`;
  });
}

function updateAll(){
  const now = new Date();

  const c = formatClock(now);
  setText("clockTime", c.time);
  setText("clockAmPm", c.ap);

  const key = ymd(now);
  const rec = BY_DATE[key];

  const dayName = AR_DAYS[now.getDay()];
  const monthName = AR_MONTHS[now.getMonth()];
  setText("dateText", `${dayName}ØŒ ${now.getDate()} ${monthName} ${now.getFullYear()} | ${rec ? rec.h : "--"}`);

  if(rec){
    const rDay = getRamadanDayFromHijri(rec.h);
    setText("ramadanBadge", rDay ? `Ø§Ù„ÙŠÙˆÙ… ${rDay} Ù…Ù† Ø±Ù…Ø¶Ø§Ù†` : "Ø±Ù…Ø¶Ø§Ù†");

    setText("fajr", minutesToHHMM(parseArabicTimeToMinutes(rec.fajr)));
    setText("sunrise", minutesToHHMM(parseArabicTimeToMinutes(rec.sunrise)));
    setText("dhuhr", minutesToHHMM(parseArabicTimeToMinutes(rec.dhuhr)));
    setText("asr", minutesToHHMM(parseArabicTimeToMinutes(rec.asr)));
    setText("maghrib", minutesToHHMM(parseArabicTimeToMinutes(rec.maghrib)));
    setText("isha", minutesToHHMM(parseArabicTimeToMinutes(rec.isha)));

    const nowMin = now.getHours()*60 + now.getMinutes();
    const times = [
      {name:"Ø§Ù„ÙØ¬Ø±", min: parseArabicTimeToMinutes(rec.fajr)},
      {name:"Ø§Ù„Ø´Ø±ÙˆÙ‚", min: parseArabicTimeToMinutes(rec.sunrise)},
      {name:"Ø§Ù„Ø¸Ù‡Ø±", min: parseArabicTimeToMinutes(rec.dhuhr)},
      {name:"Ø§Ù„Ø¹ØµØ±", min: parseArabicTimeToMinutes(rec.asr)},
      {name:"Ø§Ù„Ù…ØºØ±Ø¨", min: parseArabicTimeToMinutes(rec.maghrib)},
      {name:"Ø§Ù„Ø¹Ø´Ø§Ø¡", min: parseArabicTimeToMinutes(rec.isha)},
    ].filter(x => x.min !== null).sort((a,b)=>a.min-b.min);

    let next = times.find(x => x.min > nowMin);
    let nextDate = key;

    if(!next){
      const t = new Date(now); t.setDate(t.getDate()+1);
      const k2 = ymd(t);
      const rec2 = BY_DATE[k2];
      if(rec2){
        next = {name:"Ø§Ù„ÙØ¬Ø±", min: parseArabicTimeToMinutes(rec2.fajr)};
        nextDate = k2;
      }else{
        next = {name:"--", min: null};
      }
    }

    if(next.min !== null){
      const target = new Date(now);
      if(nextDate !== key) target.setDate(target.getDate()+1);
      target.setHours(Math.floor(next.min/60), next.min%60, 0, 0);

      setText("nextMeta", `${next.name} - Ø§Ù„ÙˆÙ‚Øª: ${minutesToHHMM(next.min)}`);
      setText("nextCount", formatCountdown(target - now));
    }else{
      setText("nextMeta", "--");
      setText("nextCount", "--:--:--");
    }

    const magMin = parseArabicTimeToMinutes(rec.maghrib);
    if(magMin !== null){
      let iftarTarget = new Date(now);
      iftarTarget.setHours(Math.floor(magMin/60), magMin%60, 0, 0);

      if(nowMin >= magMin){
        const t = new Date(now); t.setDate(t.getDate()+1);
        const k2 = ymd(t);
        const rec2 = BY_DATE[k2];
        if(rec2){
          const mag2 = parseArabicTimeToMinutes(rec2.maghrib);
          if(mag2 !== null){
            iftarTarget = new Date(t);
            iftarTarget.setHours(Math.floor(mag2/60), mag2%60, 0, 0);
            setText("iftarMeta", `ÙˆÙ‚Øª Ø§Ù„Ù…ØºØ±Ø¨: ${minutesToHHMM(mag2)}`);
          }else{
            setText("iftarMeta", `ÙˆÙ‚Øª Ø§Ù„Ù…ØºØ±Ø¨: ${minutesToHHMM(magMin)}`);
          }
        }else{
          setText("iftarMeta", `ÙˆÙ‚Øª Ø§Ù„Ù…ØºØ±Ø¨: ${minutesToHHMM(magMin)}`);
        }
      }else{
        setText("iftarMeta", `ÙˆÙ‚Øª Ø§Ù„Ù…ØºØ±Ø¨: ${minutesToHHMM(magMin)}`);
      }

      setText("iftarCount", formatCountdown(iftarTarget - now));
    }else{
      setText("iftarMeta", "--");
      setText("iftarCount", "--:--:--");
    }
  }
}

/* ØªØ´ØºÙŠÙ„ */
applyAutoFit();
updateAll();

setInterval(updateAll, 1000);
window.addEventListener("resize", applyAutoFit);
window.addEventListener("orientationchange", applyAutoFit);
</script>

</body>
</html>
